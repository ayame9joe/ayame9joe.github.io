<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Nick Balestra - DepthFirst and breadthFirst tree walking</title>
  <link rel="shortcut icon" href="/assets/images/favicon.png">
  <link rel="stylesheet" href="/assets/css/style.css">
  <link rel="alternate" type="application/rss+xml" title="Nick Balestra" href="/feed.xml">
  <link rel="stylesheet" href="/assets/css/highlight.css">
</head>
<body>

  <nav class="main-nav">
    
        <a href='/'> <span class="arrow">‚Üê</span> Home </a>
    

    
    <a href='/about'>About </a>
    
    <a class="cta" href="/feed.xml">Subscribe</a>
</nav>

  

  <section id="wrapper" class="">
    <article class="post">
    <header>
        <h1>DepthFirst and breadthFirst tree walking</h1>
        <h2 class="headline">October 10, 2015</h2>
    </header>
    <section id="post-body">
        <h2>Depth-first search (DFS) and Breadth-first search (BFS) are algorithms for traversing or searching tree or graph data structures.</h2>

<p>While both starts at the root, DFS explores as far as possible along each branch before backtracking while BFS explores the neighbor nodes first, before moving to the next level neighbors.</p>

<hr>

<h3>Visualizing the algorithms</h3>

<p>Assuming that an instance of a binary search tree hold some values, we can visualize the two traversing algorithms as following:
<img src="https://raw.githubusercontent.com/nickbalestra/nickbalestra.github.io/master/assets/images/tree-traversal-algos.png" alt="index page"></p>

<h3>One pseudocode to rule them all</h3>

<p>Although the algorithms may seems different, both share the <em>&quot;same&quot;</em> pseudocode:</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="lineno">1</span> <span class="c1">// &lt;store&gt; the root node in a &lt;container&gt;</span>
<span class="lineno">2</span> <span class="c1">// While (the &lt;container&gt; isn&#39;t empty)</span>
<span class="lineno">3</span> <span class="c1">//   el = the &lt;next&gt; element from the container</span>
<span class="lineno">4</span> <span class="c1">//   &lt;store&gt; all the children of el in the container</span>
<span class="lineno">5</span> <span class="c1">//   do something with el</span></code></pre></div>

<p>What is happening here is that every time we get out of the container a node that we stored in there earlier, we unwrap its children and store each of them back into the container, moving on unitl we don&#39;t have any more nodes in it. All the logic is therefore delegated to the <code>&lt;container&gt;</code>, and how the container <code>&lt;store&gt;</code> and retrive the <code>&lt;next&gt;</code> element (that in our case will be a tree node).</p>

<h4>DFS: replace <code>&lt;container&gt;</code> with stack</h4>

<p>In the case of a DFS where we want to explore as far as possible along each branch before backtracking, a stack will be the perfect candidate for implementing our <code>&lt;container&gt;</code>. Thanks to its LIFO (Last-In-First-Out) approach, every time we&#39;ll pop the <code>&lt;next&gt;</code> element it will be a direct a child of the branch we are traversing, or in the case we reached the end of a branch, a backtracked node up in the branch, where the branch forked out. As soon as we encounter a node that allow us to explore deeper we&#39;ll move into that branch and explore it till we reach its end, before strarting to backtrack again. And so on until we traversed the whole tree. </p>
<div class="highlight"><pre><code class="language-text" data-lang="text">      Given the following binary search tree:

0             (5)
             /   \
            /     \
1         (2)     (6)
         /   \       \
        /     \       \
2     (1)     (3)     (7)
                 \
                  \
3                 (4)

      // Traversing the tree using DFS may result in 
      // encountering each of its nodes in the following order:
      // -&gt;  [ 5, 2, 1, 3, 4, 6, 7 ]
</code></pre></div>
<h4>BFS: replace <code>&lt;container&gt;</code> with queue</h4>

<p>In the case of a BFS where we want to explore the neighbor nodes first, before moving to a depper level of the tree, a queue will be the perfect candidate for implementing our <code>&lt;container&gt;</code>. Thanks to its FIFO (First-In-First-Out) approach, every time we&#39;ll dequeue the <code>&lt;next&gt;</code> element it will be a neighbour node, or, in the case we visited all of the neighbours for that specific depth of the tree, the first node in the next level.And so on until we traversed the whole tree. </p>
<div class="highlight"><pre><code class="language-text" data-lang="text">      Given the following binary search tree:

0             (5)
             /   \
            /     \
1         (2)     (6)
         /   \       \
        /     \       \
2     (1)     (3)     (7)
                 \
                  \
3                 (4)

      // Traversing the tree using BFS may result in 
      // encountering each of its nodes in the following order:
      // -&gt;  [ 5, 2, 6, 1, 3, 7, 4 ]
</code></pre></div>
<h3>Depth-first and Breadth-first search implementation</h3>

<p>Let&#39;s assume we have stacks and queues implemented (in js, we could easily get along by just relying to array and its native methods push/pop for stacks and push/shift for queues). We could then immagine a depthFirstLog() and breadthFirstLog() methods for a binary search tree to be like:</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="lineno"> 1</span> <span class="nx">BinarySearchTree</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">depthFirstLog</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">cb</span><span class="p">)</span> <span class="p">{</span>
<span class="lineno"> 2</span>   <span class="kd">var</span> <span class="nx">container</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Stack</span><span class="p">();</span> 
<span class="lineno"> 3</span>   <span class="kd">var</span> <span class="nx">element</span><span class="p">;</span>
<span class="lineno"> 4</span> 
<span class="lineno"> 5</span>   <span class="nx">container</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
<span class="lineno"> 6</span>   <span class="k">while</span> <span class="p">(</span><span class="nx">container</span><span class="p">.</span><span class="nx">size</span><span class="p">()</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>  
<span class="lineno"> 7</span>     <span class="nx">element</span> <span class="o">=</span> <span class="nx">container</span><span class="p">.</span><span class="nx">pop</span><span class="p">();</span>
<span class="lineno"> 8</span> 
<span class="lineno"> 9</span>     <span class="k">if</span> <span class="p">(</span><span class="nx">element</span><span class="p">.</span><span class="nx">_right</span><span class="p">)</span> <span class="p">{</span>
<span class="lineno">10</span>       <span class="nx">container</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">element</span><span class="p">.</span><span class="nx">_right</span><span class="p">);</span>
<span class="lineno">11</span>     <span class="p">}</span>
<span class="lineno">12</span>     <span class="k">if</span> <span class="p">(</span><span class="nx">element</span><span class="p">.</span><span class="nx">_left</span><span class="p">)</span> <span class="p">{</span>
<span class="lineno">13</span>       <span class="nx">container</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">element</span><span class="p">.</span><span class="nx">_left</span><span class="p">);</span>
<span class="lineno">14</span>     <span class="p">}</span>
<span class="lineno">15</span>     <span class="nx">cb</span><span class="p">(</span><span class="nx">element</span><span class="p">.</span><span class="nx">_value</span><span class="p">);</span>
<span class="lineno">16</span>   <span class="p">}</span>
<span class="lineno">17</span> <span class="p">};</span></code></pre></div>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="lineno"> 1</span> <span class="nx">BinarySearchTree</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">breadthFirstLog</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">cb</span><span class="p">)</span> <span class="p">{</span>
<span class="lineno"> 2</span>   <span class="kd">var</span> <span class="nx">container</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Queue</span><span class="p">();</span> 
<span class="lineno"> 3</span>   <span class="kd">var</span> <span class="nx">element</span><span class="p">;</span>
<span class="lineno"> 4</span> 
<span class="lineno"> 5</span>   <span class="nx">container</span><span class="p">.</span><span class="nx">enqueue</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
<span class="lineno"> 6</span>   <span class="k">while</span> <span class="p">(</span><span class="nx">container</span><span class="p">.</span><span class="nx">size</span><span class="p">()</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>  
<span class="lineno"> 7</span>     <span class="nx">element</span> <span class="o">=</span> <span class="nx">container</span><span class="p">.</span><span class="nx">dequeue</span><span class="p">();</span>
<span class="lineno"> 8</span>     <span class="k">if</span> <span class="p">(</span><span class="nx">element</span><span class="p">.</span><span class="nx">_left</span><span class="p">)</span> <span class="p">{</span>
<span class="lineno"> 9</span>       <span class="nx">container</span><span class="p">.</span><span class="nx">enqueue</span><span class="p">(</span><span class="nx">element</span><span class="p">.</span><span class="nx">_left</span><span class="p">);</span>
<span class="lineno">10</span>     <span class="p">}</span>
<span class="lineno">11</span>     <span class="k">if</span> <span class="p">(</span><span class="nx">element</span><span class="p">.</span><span class="nx">_right</span><span class="p">)</span> <span class="p">{</span>
<span class="lineno">12</span>       <span class="nx">container</span><span class="p">.</span><span class="nx">enqueue</span><span class="p">(</span><span class="nx">element</span><span class="p">.</span><span class="nx">_right</span><span class="p">);</span>
<span class="lineno">13</span>     <span class="p">}</span>
<span class="lineno">14</span>     <span class="nx">cb</span><span class="p">(</span><span class="nx">element</span><span class="p">.</span><span class="nx">_value</span><span class="p">);</span>
<span class="lineno">15</span>   <span class="p">}</span>
<span class="lineno">16</span> <span class="p">};</span></code></pre></div>

<p>Alternatively, we could mimic how stacks works using a recursive approach. A recursive solution in that direction may look something like:</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="lineno">1</span> <span class="nx">BinarySearchTree</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">depthFirstLog</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">cb</span><span class="p">)</span> <span class="p">{</span>
<span class="lineno">2</span>   <span class="nx">cb</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">_value</span><span class="p">);</span>
<span class="lineno">3</span>   <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">_left</span><span class="p">)</span> <span class="p">{</span>
<span class="lineno">4</span>     <span class="k">this</span><span class="p">.</span><span class="nx">_left</span><span class="p">.</span><span class="nx">depthFirstLog</span><span class="p">(</span><span class="nx">cb</span><span class="p">);</span>
<span class="lineno">5</span>   <span class="p">}</span>
<span class="lineno">6</span>   <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">_right</span><span class="p">)</span> <span class="p">{</span>
<span class="lineno">7</span>     <span class="k">this</span><span class="p">.</span><span class="nx">_right</span><span class="p">.</span><span class="nx">depthFirstLog</span><span class="p">(</span><span class="nx">cb</span><span class="p">);</span>
<span class="lineno">8</span>   <span class="p">}</span>
<span class="lineno">9</span> <span class="p">};</span></code></pre></div>

<h2>Final thoughts</h2>

<p>I found mastering DFS and BFS algorithms to be very beneficial for solving many tree traversing problems.</p>

<h5>Rely on Depth-first (DFS) if:</h5>

<ul>
<li>Searched items are deep inside the tree</li>
<li>Finding the shortest path from the root is not an issue</li>
<li>Space complexity is an important factor<br><br></li>
</ul>

<h5>Rely on Breadth-first (BFS) if:</h5>

<ul>
<li>Searched item is not far from the root node</li>
<li>Finding the shortest path from the root is important</li>
<li>Space complexity is not an important factor</li>
</ul>

    </section>
</article>
<footer id="post-meta" class="clearfix">
    <a href="http://twitter.com/nickbalestra">
        <img class="avatar" src="/assets/images/profile.png">
        <div>
            <span class="dark">Nick Balestra</span>
            <span>Software engineer</span>
        </div>
    </a>

    <section id="sharing">
        <a class="twitter" href="https://twitter.com/intent/tweet?text=http://nick.balestra.ch/2015/depthFirst-vs-breadthFirst/ - DepthFirst and breadthFirst tree walking by @nickbalestra"><span class="icon-twitter"> Tweet</span></a>

<a class="facebook" href="#" onclick="
    window.open(
      'https://www.facebook.com/sharer/sharer.php?u='+encodeURIComponent(location.href),
      'facebook-share-dialog',
      'width=626,height=436');
    return false;"><span class="icon-facebook-rect"> Share</span>
</a>
    </section>
</footer>

<!-- Disqus comments -->

    <section class="disqus">
    <div id="disqus_thread"></div>
    <script type="text/javascript">
        var disqus_shortname = 'nickbalestra';
        var disqus_developer = 0; // developer mode is on
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</section>


<!-- Archive -->

    <ul id="post-list" class="archive readmore">
        <h3>Read more</h3>
        
            <li>
                <a href="/2015/ES6-classes-and-prototype-based-inheritance/">JS's Prototype-based inheritance and classes demystified<aside class="dates">Oct 15</aside></a>
            </li>
        
            <li>
                <a href="/2015/depthFirst-vs-breadthFirst/">DepthFirst and breadthFirst tree walking<aside class="dates">Oct 10</aside></a>
            </li>
        
            <li>
                <a href="/2015/ES6-Arrows-Arrays-and-Defaults/">‰∏≠ÊñáÊµãËØï<aside class="dates">Oct 05</aside></a>
            </li>
        
            <li>
                <a href="/2015/Installing-Ruby-Gems-Without-Sudo/">Install ruby gems without sudo on OSX<aside class="dates">Oct 04</aside></a>
            </li>
        
            <li>
                <a href="/2015/Installing-Node-Global/">Installing npm packages global on OSX<aside class="dates">Oct 04</aside></a>
            </li>
        
            <li>
                <a href="/2015/pick-your-parsing/">Pick your parsing<aside class="dates">Sep 05</aside></a>
            </li>
        
            <li>
                <a href="/2015/sweetjs-case-macros-for-javascript/">Case based Macros for javaScript<aside class="dates">Aug 29</aside></a>
            </li>
        
            <li>
                <a href="/2015/hrb-sicp-studygroup/">HRB SICP Study group - Getting started with Lisp<aside class="dates">Aug 23</aside></a>
            </li>
        
            <li>
                <a href="/2015/for-loops-the-bad-the-good-the-ugly/">For* Loops: The Bad, The Good And The Ugly<aside class="dates">Aug 08</aside></a>
            </li>
        
            <li>
                <a href="/2015/build-a-simple-api-server-with-node/">Building a simple API server with node<aside class="dates">Jul 26</aside></a>
            </li>
        
            <li>
                <a href="/2015/Backbone-bindings-for-firebase/">Binding Backbone models & collections to Firebase<aside class="dates">Jul 24</aside></a>
            </li>
        
            <li>
                <a href="/2015/classes-and-instantiation-patterns-in-javascript/">Classes and Instantiation Patterns in javaScript<aside class="dates">Jul 05</aside></a>
            </li>
        
            <li>
                <a href="/2015/Prefix-tree-data-structure/">Prefix Tree Data Structure<aside class="dates">Jul 05</aside></a>
            </li>
        
            <li>
                <a href="/2015/javascript-functional-libraries/">JS Functional Programming Libraries<aside class="dates">Jun 13</aside></a>
            </li>
        
            <li>
                <a href="/2015/Kactus/">Kactus for Jekyll<aside class="dates">Jun 11</aside></a>
            </li>
        
            <li>
                <a href="/2015/IIFE/">The IIFE pattern<aside class="dates">Jun 08</aside></a>
            </li>
        
            <li>
                <a href="/2015/truthy-and-falsy/">Truthy and falsy values<aside class="dates">Jun 07</aside></a>
            </li>
        
            <li>
                <a href="/2015/prime-algos/">Trial division, Sieve of Eratosthenes and Factorization Wheel<aside class="dates">May 25</aside></a>
            </li>
        
            <li>
                <a href="/2015/using-every-to-return-some/">Using every() to return some()<aside class="dates">May 15</aside></a>
            </li>
        
            <li>
                <a href="/2015/jekyll-on-github-quick-guide/">Jekyll on Github - Quick guide<aside class="dates">May 10</aside></a>
            </li>
        
            <li>
                <a href="/2015/hackbot-a-js-robot-for-the-browser/">Hackbot - A js robot for the browser<aside class="dates">Jan 26</aside></a>
            </li>
        
            <li>
                <a href="/2015/intro-js-onboarding-api/">Intro.js onboarding API<aside class="dates">Jan 25</aside></a>
            </li>
        
            <li>
                <a href="/2015/javascripts-lexical-scope-hoisting-and-closures-without-mystery/">JavaScript‚Äôs lexical scope, hoisting and closures without mystery<aside class="dates">Jan 17</aside></a>
            </li>
        
    </ul>





  </section>

  <script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
  <script src="/assets/js/main.js"></script>


  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-62842593-1', 'auto');
    ga('send', 'pageview');
  </script>
</body>
</html>
